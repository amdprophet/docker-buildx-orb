description: Install Docker buildx.
parameters:
  version:
    description: The version of buildx to install.
    type: string
    default: 0.5.1
  binfmt-tag:
    description: The Docker tag of the tonistiigi/binfmt image to use.
    type: string
    default: qemu-v5.2.0
  platforms:
    description: The platforms to build for.
    type: string
    default: linux/386,linux/amd64,linux/arm/v5,linux/arm/v6,linux/arm/v7,linux/arm64,linux/mips64le,linux/riscv64,
steps:
  - run:
      name: Install Docker buildx
      environment:
        BUILDX_VERSION: "<< parameters.version >>"
        BINFMT_TAG: "<< parameters.binfmt-tag >>"
      command: << include(scripts/install.sh) >>
